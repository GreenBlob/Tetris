#include <stdio.h>
#include <stdlib.h>
#include <time.h>

char CampoDeJogo[20][10];
void InicializarCampo();//acontece apenas no inicio do jogo e inicializa o campo de jogo
void PrintarCampo();//sera chamado sempre que o campo de jogo for mudado
void Jogar();
void Gravidade();//sera chamado ao fim de cada turno e fara com que a peca mova uma unidade para baixo


int main()
{
   InicializarCampo();
   Jogar();

}

void InicializarCampo()
{
    for (int i=0; i<20; i++)
    {
        for (int j=0; j<10; j++)
        {
        CampoDeJogo[i][j] = '.';
        }
    }

}

void Jogar()
{
int TempoPorTurno = 500;//Essa variavel e o tempo que o jogo leva para a gravidade desces a peca uma unidade
    int FimDoJogo = 0;//Deve mudar para 1 se as pecas atingirem o topo
    while (!FimDoJogo)//repetir ate fim do jogo
    {
    CriarBloco();//criar novo bloco assim que o atual parar
        while (!BlocoParado)
        {
            int MomentoAtual = clock();
                while(clock() < MomentoAtual + TempoPorTurno)
                {
                //este e o tempo em que o jogador estara livre para mover a peca
                PrintarCampo();//printa o campo novamente se o jogador mover a peca
                }
            Gravidade();//a gravidade fara o bloco descer 1 unidade a cada turno
            PrintarCampo();//printa o campo ao fim do turno
        }
    }
}

void PrintarCampo()
{

    for (int i=0; i<20; i++)
    {
        for (int j=0; j<10; j++)
        {
        printf("%c", CampoDeJogo[i][j]);
        }
    printf("\n");
    }
}
